(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{259:function(e,t,a){},260:function(e,t,a){},287:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),c=a.n(r),o=(a(259),a(72)),s=a.p+"static/media/rob-lowe.8cfc4b6d.jpg",l=(a(260),a(82)),d=(a(261),a(326)),m=a(34),j=a(35),u=a(13),h=a(4),b=a(335),g=a(25),p=a(347),x=a(336),O=a(337),f=a(338),_=a(333),v=a(59),y=a(339),w=a(331),k=a(150),C=a.n(k),L=a(151),B=a.n(L),I=a(152),P=a.n(I),A=a(340),N=a(341),S=a(342),T=a(154),E=a.n(T),D=a(153),H=a.n(D),F=a(155),G=a.n(F),z=a(14),M=a(140),W=a(141),R=a(42),J=a(142),V=a(156),U=a(343),Y=a(344),K=a(345),X=a(334),q=a(288),Q=a(348),Z=a(332),$=a(12),ee=a(3),te=function(e){Object(J.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(M.a)(this,a),(n=t.call(this,e)).state={curr_team:null,name_to_id:null,id_to_name:null,games:null},n.updateCurrTeam=n.updateCurrTeam.bind(Object(R.a)(n)),n.updateGraph=n.updateGraph.bind(Object(R.a)(n)),n.toggleLeverage=n.toggleLeverage.bind(Object(R.a)(n)),n.setCheckboxColors=n.setCheckboxColors.bind(Object(R.a)(n)),n}return Object(W.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a={},n={},i=Object(z.a)(ae);try{for(i.s();!(e=i.n()).done;){var r=e.value,c=r.team_name,o=r.team_id;a[c]=o,n[o]=c}}catch(s){i.e(s)}finally{i.f()}this.setState({name_to_id:a,id_to_name:n},(function(){t.updateGraph("DAL")}))}},{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"updateCurrTeam",value:function(e){var t,a;if(e.target.outerText)a=e.target.outerText,t=this.state.name_to_id[a];else{if(13!==e.keyCode||!e.target.value)return;console.log("user hit return to change team"),console.log(e),console.log(document.getElementById("leverage_team_select").value),console.log(e.target.value),a=e.target.value,t=this.state.name_to_id[a],console.log(t)}this.updateGraph(t)}},{key:"setCheckboxColors",value:function(e){for(var t=0,a=["Playoff","Division","Bye"];t<a.length;t++){var n=a[t];console.log(n);var i=document.getElementById(n.toLowerCase()+"_label");console.log(i),i.style.color=e(n),document.getElementById(n.toLowerCase()+"_checkbox").style.color=e(n)}}},{key:"toggleLeverage",value:function(e){var t=e.target.name.split("_")[0];t=t.charAt(0).toUpperCase()+t.slice(1);var a=$.j("."+t).style("opacity");$.j("."+t).transition().style("opacity",.6==a?0:.6)}},{key:"updateGraph",value:function(e){console.log("graph updated");var t=["Playoff","Division","Bye"],a=this.state.id_to_name[e],n=10,i=30,r=50,c=60,o=700-c-i,s=500-n-r;document.getElementById("chart_title").innerHTML="".concat(a," Playoff Leverage"),document.getElementById("team_logo").src="/team_logos/"+this.state.name_to_id[a]+".png",document.getElementById("my_dataviz").innerHTML="";var l=$.i("#my_dataviz").append("svg").attr("width",o+c+i).attr("height",s+n+r).append("g").attr("transform","translate(".concat(c,",").concat(n,")")),d=$.g().domain(t).range($.h);this.setCheckboxColors(d),$.c("http://127.0.0.1:5000/leverage/"+e+"/csv",(function(e){return{week:e.week,playoff_leverage:e.playoff_leverage,division_leverage:e.division_leverage,bye_leverage:e.bye_leverage,opponent:e.opponent}})).then((function(e){var a=t.map((function(t){return{name:t,values:e.map((function(e){return{week:e.week,value:+e[t.toLowerCase()+"_leverage"],opponent:e.opponent,leverage_type:t}}))}}));console.log(a);var i=$.f().domain([$.e(e,(function(e){return e.week})),$.d(e,(function(e){return e.week}))]).range([0,o]);l.append("g").attr("transform","translate(0,"+s+")").call($.a(i).ticks(e.length-1)),l.selectAll(".tick").each((function(e,t){console.log(e,t),console.log(a[t].values[e-1].opponent),$.i(this).append("image").attr("xlink:href","http://127.0.0.1:5000/team_logos/"+a[t].values[e-1].opponent+".png").attr("y",0).attr("x",(function(e){return e})).attr("width",28).attr("height",28)})),l.append("text").attr("transform","translate("+o/2+" ,"+(s+n+30)+")").style("text-anchor","middle").text("Week");var r=$.f().range([s,0]);l.append("g").call($.b(r).tickFormat((function(e){return 100*e+"%"}))),l.append("text").attr("transform","rotate(-90)").attr("y",0-c).attr("x",0-s/2).attr("dy","1em").style("text-anchor","middle").text("Leverage Percentage"),document.getElementById("tooltip")||$.i("#my_dataviz").append("div").attr("id","tooltip").attr("style","position: absolute; opacity: 0;");var m,j={},u=Object(z.a)(t);try{for(u.s();!(m=u.n()).done;){var h=m.value;j[h]=document.getElementById(h.toLowerCase()+"_checkbox").checked}}catch(f){u.e(f)}finally{u.f()}console.log(a.filter((function(e){return j[e.name]}))),console.log(a),l.selectAll("myDots").data(a).join("g").style("fill",(function(e){return d(e.name)})).attr("class",(function(e){return e.name})).attr("opacity",.6).selectAll("myPoints").data((function(e){return e.values})).join("circle").attr("cx",(function(e){return i(e.week)})).attr("cy",(function(e){return r(e.value)})).attr("r",7).attr("stroke","white").attr("opacity",.6).on("mouseover",(function(e,t){document.getElementById(t.leverage_type.toLowerCase()+"_checkbox").checked&&($.i("#tooltip").transition().duration(200).style("opacity",1),e.target.style.opacity="1")})).on("mousemove",(function(e,t){document.getElementById(t.leverage_type.toLowerCase()+"_checkbox").checked&&$.i("#tooltip").html("\n\t\t\t\t      \tOpponent: ".concat(t.opponent,"<br>\n\t\t\t\t      \tWeek: ").concat(t.week,"<br>\n\t\t\t\t      \t").concat(t.leverage_type," leverage: ").concat(t.value,"\n\t\t\t\t      \t")).style("left",e.x+10+"px").style("top",e.y-20+"px").style("font-size","12px")})).on("mouseleave",(function(e,t){$.i("#tooltip").transition().duration(200).style("opacity",0),e.target.style.opacity="0.6"}));var b,g=Object(z.a)(t);try{for(g.s();!(b=g.n()).done;){var p=b.value;if(!j[p]){var x=p,O=$.j("."+x).style("opacity");$.j("."+x).transition().style("opacity",.6==O?0:.6)}}}catch(f){g.e(f)}finally{g.f()}l.selectAll("myLegend").data(a).join("g").append("text").attr("x",.9*o).attr("y",(function(e,t){return 10+20*t})).text((function(e){return e.name})).style("fill",(function(e){return d(e.name)})).style("font-size",15).on("click",(function(e,t){var a=$.j("."+t.name).style("opacity");console.log(a),$.j("."+t.name).transition().style("opacity",1===a?0:1)}))}))}},{key:"render",value:function(){return Object(ee.jsx)("div",{id:"leverage-app",children:Object(ee.jsxs)(d.a,{container:!0,direction:"column",spacing:2,children:[Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsxs)(d.a,{container:!0,direction:"row",alignItems:"flex-end",spacing:2,children:[Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)(Y.a,{id:"leverage_team_select",options:ae,getOptionLabel:function(e){return e.team_name},style:{width:"40vh"},autoComplete:!0,defaultValue:ae[8],renderTags:function(e){return Object(ee.jsx)(Q.a,{icon:Object(ee.jsx)(Z.a,{children:Object(ee.jsx)("img",{src:"/team_logos/"+e.team_id+".png",style:{width:"3vh"},alt:e.team_id})}),label:e.team_name})},renderOption:function(e){return Object(ee.jsxs)(n.Fragment,{children:[Object(ee.jsx)(v.a,{children:e.team_name}),Object(ee.jsx)("img",{src:"/team_logos/"+e.team_id+".png",style:{width:"3vh",marginLeft:"1vh"},alt:e.team_id})]})},renderInput:function(e){return Object(ee.jsx)(U.a,Object(j.a)(Object(j.a)({},e),{},{label:"Select Team:"}))},onChange:this.updateCurrTeam})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)(X.a,{control:Object(ee.jsx)(K.a,{id:"playoff_checkbox",name:"playoff_leverage",onChange:this.toggleLeverage,defaultChecked:!0,color:"primary"}),label:Object(ee.jsx)(v.a,{variant:"h6",id:"playoff_label",children:"Playoff"})})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)(X.a,{control:Object(ee.jsx)(K.a,{id:"division_checkbox",name:"division_leverage",onChange:this.toggleLeverage,defaultChecked:!0,color:"primary"}),label:Object(ee.jsx)(v.a,{variant:"h6",id:"division_label",children:"Division"})})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)(X.a,{control:Object(ee.jsx)(K.a,{id:"bye_checkbox",name:"bye_leverage",onChange:this.toggleLeverage,defaultChecked:!0,color:"primary"}),label:Object(ee.jsx)(v.a,{variant:"h6",id:"bye_label",children:"Bye"})})})]})}),Object(ee.jsx)(d.a,{item:!0,xs:6,children:Object(ee.jsx)("div",{id:"leverage_graph"})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsxs)(d.a,{container:!0,direction:"row",children:[Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsxs)(d.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:[Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsxs)(d.a,{container:!0,direction:"row",alignItems:"center",spacing:1,children:[Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)("img",{id:"team_logo",style:{width:"6vh"}})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)(v.a,{variant:"h4",id:"chart_title"})})]})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)("div",{id:"my_dataviz"})})]})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsxs)(q.a,{children:["Let P",Object(ee.jsx)("sub",{children:"w"}),"(w) = P(playoffs | win in week ",Object(ee.jsx)("i",{children:"w"}),") and let P",Object(ee.jsx)("sub",{children:"l"}),"(w) = P(playoffs | loss in week ",Object(ee.jsx)("i",{children:"w"}),"). We then define the playoff leverage for week ",Object(ee.jsx)("i",{children:"w"})," as P",Object(ee.jsx)("sub",{children:"w"}),"(w) - P",Object(ee.jsx)("sub",{children:"l"}),"(w)."]})})]})})]})})}}]),a}(n.Component),ae=[{team_id:"ARI",team_name:"Arizona Cardinals"},{team_id:"ATL",team_name:"Atlanta Falcons"},{team_id:"BAL",team_name:"Baltimore Ravens"},{team_id:"BUF",team_name:"Buffalo Bills"},{team_id:"CAR",team_name:"Carolina Panthers"},{team_id:"CHI",team_name:"Chicago Bears"},{team_id:"CIN",team_name:"Cincinnati Bengals"},{team_id:"CLE",team_name:"Cleveland Browns"},{team_id:"DAL",team_name:"Dallas Cowboys"},{team_id:"DEN",team_name:"Denver Broncos"},{team_id:"DET",team_name:"Detroit Lions"},{team_id:"GB",team_name:"Green Bay Packers"},{team_id:"HOU",team_name:"Houston Texans"},{team_id:"IND",team_name:"Indianapolis Colts"},{team_id:"JAX",team_name:"Jacksonville Jaguars"},{team_id:"KC",team_name:"Kansas City Chiefs"},{team_id:"LV",team_name:"Las Vegas Raiders"},{team_id:"LAC",team_name:"Los Angeles Chargers"},{team_id:"LAR",team_name:"Los Angeles Rams"},{team_id:"MIA",team_name:"Miami Dolphins"},{team_id:"MIN",team_name:"Minnesota Vikings"},{team_id:"NE",team_name:"New England Patriots"},{team_id:"NO",team_name:"New Orleans Saints"},{team_id:"NYG",team_name:"New York Giants"},{team_id:"NYJ",team_name:"New York Jets"},{team_id:"PHI",team_name:"Philadelphia Eagles"},{team_id:"PIT",team_name:"Pittsburgh Steelers"},{team_id:"SF",team_name:"San Francisco 49ers"},{team_id:"SEA",team_name:"Seattle Seahawks"},{team_id:"TB",team_name:"Tampa Bay Buccaneers"},{team_id:"TEN",team_name:"Tennessee Titans"},{team_id:"WAS",team_name:"Washington Football Team"}],ne=te;function ie(){return Object(ee.jsx)("div",{id:"wp-app",children:Object(ee.jsxs)(d.a,{container:!0,direction:"column",children:[Object(ee.jsx)(d.a,{item:!0,children:"Select button"}),Object(ee.jsx)(d.a,{item:!0,children:"Graph wp"})]})})}function re(){return Object(ee.jsx)("div",{id:"homepage",children:"Home"})}var ce=240,oe=Object(b.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(ce,"px)"),marginLeft:ce,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:ce,flexShrink:0},drawerPaper:{width:ce},drawerHeader:Object(j.a)(Object(j.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},logo:{width:"60px",marginLeft:"auto"}}}));function se(){var e=oe(),t=Object(g.a)(),a=i.a.useState(!1),n=Object(o.a)(a,2),r=n[0],c=n[1],l=Object(u.f)(),d=(Object(u.g)(),function(){c(!1)}),b=function(e){var t;switch(e.target.innerText){case"Leverage Calculator":t="/leverage";break;case"Win Probability Viz":t="/wp";break;default:t="/"}l.push(t),d()};return Object(ee.jsxs)("div",{className:e.root,children:[Object(ee.jsx)(x.a,{}),Object(ee.jsx)(O.a,{position:"fixed",className:Object(h.a)(e.appBar,Object(m.a)({},e.appBarShift,r)),children:Object(ee.jsxs)(f.a,{children:[Object(ee.jsx)(w.a,{color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},edge:"start",className:Object(h.a)(e.menuButton,r&&e.hide),children:Object(ee.jsx)(C.a,{})}),Object(ee.jsx)(v.a,{variant:"h6",noWrap:!0,children:"HBs Matter"}),Object(ee.jsx)("img",{src:s,className:e.logo,alt:"logo"})]})}),Object(ee.jsxs)(p.a,{className:e.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:e.drawerPaper},children:[Object(ee.jsx)("div",{className:e.drawerHeader,children:Object(ee.jsx)(w.a,{onClick:d,children:"ltr"===t.direction?Object(ee.jsx)(B.a,{}):Object(ee.jsx)(P.a,{})})}),Object(ee.jsx)(y.a,{}),Object(ee.jsxs)(_.a,{children:[Object(ee.jsxs)(A.a,{button:!0,onClick:b,children:[Object(ee.jsx)(N.a,{children:Object(ee.jsx)(H.a,{})}),Object(ee.jsx)(S.a,{primary:"Leverage Calculator"})]},"Leverage Calculator"),Object(ee.jsxs)(A.a,{button:!0,onClick:b,children:[Object(ee.jsx)(N.a,{children:Object(ee.jsx)(E.a,{})}),Object(ee.jsx)(S.a,{primary:"Win Probability Viz"})]},"Win Probability Viz"),Object(ee.jsxs)(A.a,{button:!0,onClick:b,children:[Object(ee.jsx)(N.a,{children:Object(ee.jsx)(G.a,{})}),Object(ee.jsx)(S.a,{primary:"Home"})]},"Home")]}),Object(ee.jsx)(y.a,{})]}),Object(ee.jsxs)("main",{className:Object(h.a)(e.content,Object(m.a)({},e.contentShift,r)),children:[Object(ee.jsx)("div",{className:e.drawerHeader}),Object(ee.jsxs)(u.c,{children:[Object(ee.jsx)(u.a,{path:"/leverage",render:function(e){return Object(ee.jsx)(ne,Object(j.a)({},e))}}),Object(ee.jsx)(u.a,{path:"/wp",render:function(e){return Object(ee.jsx)(ie,Object(j.a)({},e))}}),Object(ee.jsx)(u.a,{exact:!0,path:"/",render:function(e){return Object(ee.jsx)(re,Object(j.a)({},e))}})]})]})]})}var le=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0];return t[1],Object(ee.jsx)(l.a,{children:Object(ee.jsx)("div",{id:"app",children:Object(ee.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",children:[Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)(se,{})}),Object(ee.jsx)(d.a,{item:!0,children:Object(ee.jsx)("div",{className:"App",children:Object(ee.jsxs)("header",{className:"App-header",children:[Object(ee.jsx)("img",{src:s,className:"App-logo",alt:"logo"}),Object(ee.jsx)("p",{children:"React + Flask Tutorial"}),Object(ee.jsx)("div",{children:200===a.status?Object(ee.jsx)("h3",{children:a.data.message}):Object(ee.jsx)("h3",{children:"LOADING"})})]})})})]})})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,350)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};c.a.render(Object(ee.jsx)(i.a.StrictMode,{children:Object(ee.jsx)(le,{})}),document.getElementById("root")),de()}},[[287,1,2]]]);
//# sourceMappingURL=main.e1e5d6e6.chunk.js.map